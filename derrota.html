<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Você perdeu!!! - MathUp</title>
  <link rel="stylesheet" href="styles/style.css">
  <style>
    html, body { height:100%; }
    body { margin:0; display:flex; align-items:flex-start; justify-content:center; background: #000 url('assets/TelaDerrota.png') center/cover no-repeat fixed; padding-top: clamp(24px, 8vh, 120px); }
    .overlay { background: rgba(0,0,0,0.55); padding: 24px 28px; border: 3px solid #000; border-radius: 10px; text-align:center; display:flex; flex-direction:column; gap:16px; align-items:center; }
    h1 { color:#ff4444; font-size: clamp(28px, 6vw, 64px); margin: 0 0 18px; text-shadow: 0 3px 0 #600; }
    .score { color:#ffdd66; font-size: clamp(20px, 3vw, 32px); font-weight:700; text-shadow:0 2px 4px rgba(0,0,0,0.7); }
    .actions { display:flex; gap:14px; justify-content:center; flex-wrap:wrap; }
    .btn { background: linear-gradient(180deg, #ffbb01 0%, #d89c00 100%); border: 4px solid goldenrod; border-radius: 8px; color: #fff; padding: 14px 20px; cursor: pointer; box-shadow: 0 6px 0 #a37200; font-weight: 700; text-decoration:none; display:inline-flex; align-items:center; justify-content:center; min-width:220px; font-size: 22px; }
    .btn:hover { filter: brightness(1.06); }
  </style>
</head>
<body>
  <div class="overlay">
    <h1>Você perdeu!!!</h1>
    <div class="score" id="scoreDisplay">Maior pontuação: 0</div>
    <div class="actions">
      <a href="game.html" class="btn" data-nav>Tentar novamente</a>
      <a href="index.html" class="btn" data-nav>Voltar ao início</a>
    </div>
  </div>

  <script>
    // som de clique nos botões
    const clickSfx = new Audio('soundeffects/Click.wav');
    clickSfx.preload = 'auto';
    clickSfx.volume = 0.63;
    function playClick(){ try { clickSfx.currentTime = 0; clickSfx.play().catch(()=>{}); } catch(e){} }

    const scoreBox = document.getElementById('scoreDisplay');
    try {
      const best = parseInt(localStorage.getItem('mathup_highscore'), 10) || 0;
      if (scoreBox) scoreBox.textContent = `Maior pontuação: ${best}`;
    } catch (e) {
      if (scoreBox) scoreBox.textContent = 'Maior pontuação: 0';
    }

    document.addEventListener('click', (e) => {
      const anchor = e.target.closest('a[data-nav]');
      if (!anchor) return;
      if (e.button !== 0 || e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) { playClick(); return; }
      e.preventDefault();
      const href = anchor.getAttribute('href');
      playClick();
      setTimeout(() => { window.location.href = href; }, 120);
    });
  </script>
</body>
</html>
